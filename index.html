<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>A-Frame WebXR (Quest 3) — Grab minimal</title>

  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aframe-physics-system@4.2.3/dist/aframe-physics-system.min.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/akbartus/superhands-aframe@4.0.2/dist/super-hands.min.js"></script>

  <style>html,body{height:100%;margin:0;background:#000}</style>
</head>
<body>
  <a-scene vr-mode-ui="enabled: true"
           renderer="colorManagement: true"
           physics="driver: cannon; gravity: -9.8">

    <!-- Sol -->
    <a-plane rotation="-90 0 0" width="10" height="10" color="#7BC8A4"
             static-body shadow="receive:true"></a-plane>

    <!-- Lumières -->
    <a-entity light="type: ambient; intensity: 0.5"></a-entity>
    <a-entity light="type: directional; intensity: 0.8; castShadow: true" position="1 4 2"></a-entity>

    <!-- Objets grabbables -->
    <a-box position="-0.6 1 -3" width="0.4" height="0.4" depth="0.4"
           color="#4CC3D9"
           grabbable dynamic-body shadow="cast:true;receive:true"></a-box>

    <a-sphere position="0.4 1 -3" radius="0.25"
              color="#EF2D5E"
              grabbable dynamic-body shadow="cast:true;receive:true"></a-sphere>

    <!-- Rig + caméra + contrôleurs WebXR -->
    <a-entity id="rig" position="0 1.6 0">
      <a-entity camera look-controls wasd-controls></a-entity>

      <a-entity laser-controls="hand: left"
                raycaster="objects: [grabbable]; far: 3"
                super-hands="colliderEvent: raycaster-intersection;
                             colliderEventProperty: els;
                             grabStartButtons: triggerdown, gripdown;
                             grabEndButtons: triggerup, gripup"></a-entity>

      <a-entity laser-controls="hand: right"
                raycaster="objects: [grabbable]; far: 3"
                super-hands="colliderEvent: raycaster-intersection;
                             colliderEventProperty: els;
                             grabStartButtons: triggerdown, gripdown;
                             grabEndButtons: triggerup, gripup"></a-entity>
    </a-entity>

  </a-scene>
</body>
</html>
